# 拿到token
```
SECRET=$(kubectl get serviceaccounts --namespace=kube-system admin -o json |jq -Mr ".secrets[0].name")

kubectl get secrets $SECRET --namespace=kube-system  -o json | jq -Mr '.data.token' |base64 -d > /tmp/ca.token
kubectl get secrets $SECRET --namespace=kube-system  -o json | jq -Mr '.data["ca.crt"]' | base64 -d > /tmp/ca.crt

TOKEN=`cat /tmp/ca.token`
```

# curl
```
curl -s $APISERVER/openapi/v2  --header "Authorization: Bearer $TOKEN" --cacert /tmp/ca.crt
```
