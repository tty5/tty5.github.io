---
categories: k8s
---

# kubelet env 处理
调用栈
```
k8s.io/kubernetes/pkg/kubelet.(*Kubelet).GenerateRunContainerOptions
k8s.io/kubernetes/pkg/kubelet/kuberuntime.(*kubeGenericRuntimeManager).generateContainerConfig
k8s.io/kubernetes/pkg/kubelet/kuberuntime.(*kubeGenericRuntimeManager).startContainer
k8s.io/kubernetes/pkg/kubelet/kuberuntime.(*kubeGenericRuntimeManager).SyncPod
k8s.io/kubernetes/pkg/kubelet.(*Kubelet).syncPod
```

# k8s pod schema
```
https://docs.openshift.com/container-platform/3.7/rest_api/api/v1.Pod.html#object-schema
```

# k8s resource.Quantity
字符串转换成数字
```
https://godoc.org/k8s.io/apimachinery/pkg/api/resource
"cpu": "2M"
to
resource.Quantity{
i: resource.int64Amount {value: 2, scale: Mega},
d: nil
s: "2M",
Format: "DecimalSI",}
```

