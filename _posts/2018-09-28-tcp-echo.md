# tcp 服务端建立过程

先申请一个socket ```socket(AF_INET, SOCK_STREAM, 0);```

和一个地址绑定 ```bind(server_fd, (struct sockaddr *) &server, sizeof(server));```

监听这个socket ```listen(server_fd, 128);```

accept请求 ```accept(server_fd, (struct sockaddr *) &client, &client_len);```

对client进行读写

```
server_fd = socket(AF_INET, SOCK_STREAM, 0);
bind(server_fd, (struct sockaddr *) &server, sizeof(server));
err = listen(server_fd, 128);
client_fd = accept(server_fd, (struct sockaddr *) &client, &client_len);
read = recv(client_fd, buf, BUFFER_SIZE, 0);
err = send(client_fd, buf, read, 0);
``
