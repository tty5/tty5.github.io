# install
yum install bcc-tools

# open exec snoop
/usr/share/bcc/tools/opensnoop -n kubectl

/usr/share/bcc/tools/execsnoop -n kubelet

# trace func
/usr/share/bcc/tools/trace -U 'do_sys_open (STRCMP("a.out", $task->comm)) "%s", arg2'

/usr/share/bcc/tools/trace -U 'do_sys_open (STRCMP("a.out", $task->comm) && 1==1) "%s", arg2'

task->comm是kbasename, 所以就是文件名
```
setup_new_exec
	__set_task_comm(current, kbasename(bprm->filename), true);

```

对于short live process, 使用gdb控制变成long live
```
gdb ./a.out -ex 'b main' -ex 'r' -ex 'b exit' -ex 'c' -ex 'shell sleep 1' -ex 'c' -ex 'q'
```
